<h1>Select a Camera Brand</h1>

<div id="main">
  <select id="brands" required onchange="get(this, this.value, 'models')">
    <option value="">Select a Brand</option>
    {{ $brands := .Body}}
    {{ range $_, $element := $brands }}
    <option value="{{$element.Id}}">{{$element.Name}}</option>
    {{end}}
  </select>
</div>


<script>

  function get(origin, value, target){

    var endpoint = '/' + origin.id + '/' + value;

    var apiCall = new XMLHttpRequest();    
    apiCall.open("GET", endpoint, false);
    apiCall.send();
    var models = document.createElement("div");
    models.setAttribute("id", "models");
    models.innerHTML = apiCall.responseText;
    document.getElementById("main").appendChild(models);
  }

</script>
